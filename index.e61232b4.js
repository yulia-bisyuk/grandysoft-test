!function(){var e,t=document.getElementById("canvas"),n=document.getElementById("collapse"),o=t.getContext("2d"),i={x:0,y:0},c=[],l=[];function r(e){i.x=e.clientX-t.offsetLeft,i.y=e.clientY-t.offsetTop,c.push({x:e.clientX-t.offsetLeft,y:e.clientY-t.offsetTop})}function s(e){console.log("start"),"canvas"===e.target.id&&(r(e),document.addEventListener("mousemove",a))}function a(e){console.log("draw"),document.removeEventListener("click",s),o.beginPath(),o.lineWidth=1,o.strokeStyle="#000",o.moveTo(i.x,i.y),r(e),o.lineTo(i.x,i.y),o.stroke(),document.addEventListener("click",d)}function d(t){var n,i,u,m,v,y;if(console.log("stop"),document.removeEventListener("mousemove",a),r(t),function(e){l.push(e)}((n=c[0],i=c[c.length-1],[n,i])),console.log("allLines",l),l.length>=2)for(var g=0;g<=l.length;g++)u=l[g],m=l[g+1],console.log("line1",u),console.log("line2",m),u&&m&&(e=f(u[0],u[1],m[0],m[1])),console.log("intersection",e);e&&(v=Math.ceil(e.x),y=Math.ceil(e.y),o.fillStyle="red",o.beginPath(),o.arc(v,y,5,0,2*Math.PI,!0),o.fill()),c=[],document.removeEventListener("click",d),document.addEventListener("click",s)}function f(e,t,n,o){var i=n.x-o.x,c=e.x-t.x,l=n.y-o.y,r=e.y-t.y,s=c*l-r*i;if(0==s)throw new Error("Number of intersection points is zero or infinity.");var a=e.x*t.y-e.y*t.x,d=n.x*o.y-n.y*o.x;return{x:(a*i-c*d)/s,y:(a*l-r*d)/s}}document.addEventListener("click",s),n.addEventListener("click",(function(){if(!i.x&&!i.y)return;o.clearRect(0,0,t.width,t.height),t.animate(u,m),e=null}));var u=[{transform:"rotate(0) scale(1)"},{transform:"rotate(360deg) scale(0)"}],m={duration:500,iterations:1}}();
//# sourceMappingURL=index.e61232b4.js.map
